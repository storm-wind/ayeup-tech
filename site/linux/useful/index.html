<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="slipstream" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Useful Commands - Run That By Me Again</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Useful Commands";
        var mkdocs_page_input_path = "linux/useful.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Run That By Me Again
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Databases</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">MySQL</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../databases/mysql-ops/">MySQL Ops</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../databases/mysql-rep/">Replication</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../databases/mysqlgen/">MYSQL General</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Postgres</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../databases/postgres/">Useful Commands</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Linux</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../ad/">AD</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bash/">Bash</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cron/">Cron</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../docker/">Docker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../filesystems/">FileSystems</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../firewalld/">Firewalld</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../git/">GIT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../logrotate/">Logrotate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../lvm/">LVM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mail/">Mail</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nano/">Nano</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../networking/">Networking</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../podman/">Podman</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../raspberry-pi/">Pi</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../redhat/">RHEL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../swap/">Swap</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Useful Commands</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#gzip-on-the-fly-with-tar">GZIP on the fly with tar</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#find-file-count">Find file count</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#ps">PS</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#changes-so-the-display-is-wide-and-not-limited-to-80-columns-and-not-truncated">changes so the display is wide and not limited to 80 columns and not truncated</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#special-permissions">Special Permissions</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-for-hung-processes">Check for hung processes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#shutdown-remotely">Shutdown remotely</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#zombie-processes">Zombie Processes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-available-memory-on-linux">Check Available memory on Linux</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#symlinks">Symlinks</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#create-a-symlink">Create a Symlink</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#delete-a-symlink">Delete a Symlink</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#find">Find</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#remove-folders-less-than-specified-parameter">Remove folders less than specified parameter</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../networks/zerotier/">Zerotier</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Monitoring</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../monitoring/prometheus/">Prometheus</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Windows</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../windows/wsl/">WSL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../windows/windows/">RDP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../windows/adduserstogroup/">Powershell</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Platforms</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">AWS</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../platforms/awscli/">AWS CLI</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../platforms/awsgen/">AWS Gen</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Azure</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../platforms/azure/">Azure CLI</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Cisco EPNMN</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../platforms/ciscoepnmn/">EPNMN CLI</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Cloudflare</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../platforms/argo/">Argo</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../platforms/proxmox/">Proxmox</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../platforms/truenas/">TrueNAS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../platforms/vmware/">VMware</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Networks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Proxies</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../networks/haproxy/">HAProxy</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networks/nginx/">Nginx</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Security</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../security/openssl/">openssl</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../networks/stunnel/">Stunnel</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../security/nessus/">Nessus</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../security/selinux/">SElinux</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Run That By Me Again</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Linux &raquo;</li>
      <li>Useful Commands</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="useful-commands-for-general-linux-use">Useful Commands for General Linux Use</h1>
<h3 id="gzip-on-the-fly-with-tar">GZIP on the fly with tar</h3>
<pre><code>tar cvf - FILE-LIST | gzip -c &gt; FILE.tar.gz  

</code></pre>
<hr />
<h3 id="find-file-count">Find file count</h3>
<pre><code>find . -xdev -type f | cut -d &quot;/&quot; -f 2 | sort | uniq -c | sort -n

</code></pre>
<hr />
<h4 id="ps">PS</h4>
<pre><code>ps -w 

</code></pre>
<h2 id="changes-so-the-display-is-wide-and-not-limited-to-80-columns-and-not-truncated">changes so the display is wide and not limited to 80 columns and not truncated</h2>
<h4 id="special-permissions">Special Permissions</h4>
<p>Sticky bits</p>
<pre><code>rwxr-xr-t

</code></pre>
<p>Allows only the owner to delete the files in that directory.Protects files from been deleted by anyone who is not the owner.
Would be used for shared folders, instances like that.</p>
<p>Set user id's 
In conjunction with executable files, so run the program with the permissions of the file owners, NOT the permissions of whoever runs it. </p>
<pre><code>SUID root 
Set Group ID

</code></pre>
<hr />
<h4 id="check-for-hung-processes">Check for hung processes</h4>
<pre><code>strace -p &lt;pid&gt;

</code></pre>
<p>Checks i/o calls from application, if nothing happens it is probably hung.</p>
<hr />
<h3 id="shutdown-remotely">Shutdown remotely</h3>
<pre><code>shutdown -f -r -m &lt;ipaddress&gt; -t 00
</code></pre>
<hr />
<h3 id="zombie-processes">Zombie Processes</h3>
<pre><code>pstree -ch root | more 

</code></pre>
<p>Don’t use kill -9 to kill the parent process, it does not always allow enough time to kill it cleanly. Just use kill <pid> </p>
<hr />
<h3 id="check-available-memory-on-linux">Check Available memory on Linux</h3>
<p>To check available memory in Linux type free -m command. free  displays  the  total  amount of free and used physical<br />
and swap memory in the system, as well as the buffers used by the kernel. </p>
<p>Command: </p>
<pre><code>free -m 
free -h 
free -b 
free -g 

</code></pre>
<p>Output:</p>
<pre><code>             total       used       free     shared    buffers     cached 
Mem:          2025       1961         64          0        172       1035 
-/  buffers/cache:        753       1272 
Swap:         1906          0       1906 

</code></pre>
<p>Description: 
The -b switch displays the amount of memory in bytes 
The -k switch (set by default) displays it in kilobytes 
The -m switch displays it in megabytes 
The -g switch displays it in gigabytes. </p>
<p>Command: </p>
<pre><code>vmstat 

</code></pre>
<p>Output:</p>
<pre><code>procs -----------memory---------- ---swap-- -----io---- -system-- ----cpu---- 
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa 
 0  0      0  63316 176624 1062340    0    0    25    18   39  592  5  1 94  0 

</code></pre>
<p>Description: 
swpd: the amount of virtual memory used. 
 free: the amount of idle memory. 
 buff: the amount of memory used as buffers. 
 cache: the amount of memory used as cache.</p>
<hr />
<h3 id="symlinks">Symlinks</h3>
<h4 id="create-a-symlink">Create a Symlink</h4>
<p>The below example is a softlink</p>
<pre><code>ln -s &lt;path to the file/folder to be linked&gt; &lt;the path of the link to be created&gt;

</code></pre>
<h4 id="delete-a-symlink">Delete a Symlink</h4>
<pre><code>unlink &lt;path-to-symlink&gt;

</code></pre>
<hr />
<h3 id="find">Find</h3>
<h4 id="remove-folders-less-than-specified-parameter">Remove folders less than specified parameter</h4>
<pre><code>find . -mindepth 1 -maxdepth 1 -type d -exec du -ks {} + | awk '$1 &lt;= 250' | cut -f 2- | xargs -d \\n rm -rf

</code></pre>
<p>to just see results, then remove below form command above.</p>
<pre><code>| xargs -d \\n rm -rf

</code></pre>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../swap/" class="btn btn-neutral float-left" title="Swap"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../networks/zerotier/" class="btn btn-neutral float-right" title="Zerotier">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../swap/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../networks/zerotier/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
